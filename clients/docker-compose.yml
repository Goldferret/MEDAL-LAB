services:
  madsci_client:
    build:
      context: .
      dockerfile: Dockerfile
      network: host
    container_name: madsci_client
    network_mode: host
    env_file:
      - ../.env.global
    volumes:
      - ./workflows:/home/madsci/workflows
      - ./experiments:/home/madsci/experiments
      - ./outputs:/home/madsci/outputs
    stdin_open: true
    tty: true
    restart: unless-stopped
    command: >
      bash -c "
        echo '=== MADSci Client Environment ===' &&
        echo 'Workcell Server: $$WORKCELL_SERVER_URL' &&
        echo 'Experiment Server: $$EXPERIMENT_SERVER_URL' &&
        echo 'Data Server: $$DATA_SERVER_URL' &&
        echo '' &&
        echo 'Ready to submit workflows and experiments!' &&
        echo 'Usage: docker exec -it madsci_client bash' &&
        tail -f /dev/null
      "
